{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/juliofranco/Desktop/Programacio%CC%81n/BuildManager/frontend/src/components/LoadingBar.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, Suspense } from 'react';\nimport { usePathname, useSearchParams } from 'next/navigation';\n\nfunction LoadingBarInner() {\n  const [loading, setLoading] = useState(false);\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n\n  useEffect(() => {\n    setLoading(false);\n  }, [pathname, searchParams]);\n\n  useEffect(() => {\n    const handleStart = () => setLoading(true);\n    const handleComplete = () => setLoading(false);\n\n    window.addEventListener('beforeunload', handleStart);\n    \n    return () => {\n      window.removeEventListener('beforeunload', handleStart);\n    };\n  }, []);\n\n  if (!loading) return null;\n\n  return (\n    <div className=\"fixed top-0 left-0 right-0 z-50 h-1 bg-blue-200\">\n      <div className=\"h-full bg-blue-600 animate-pulse\" style={{ width: '70%' }} />\n    </div>\n  );\n}\n\nexport default function LoadingBar() {\n  return (\n    <Suspense fallback={null}>\n      <LoadingBarInner />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,SAAS;IACP,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,eAAe,IAAA,qJAAe;IAEpC,IAAA,kNAAS,EAAC;QACR,WAAW;IACb,GAAG;QAAC;QAAU;KAAa;IAE3B,IAAA,kNAAS,EAAC;QACR,MAAM,cAAc,IAAM,WAAW;QACrC,MAAM,iBAAiB,IAAM,WAAW;QAExC,OAAO,gBAAgB,CAAC,gBAAgB;QAExC,OAAO;YACL,OAAO,mBAAmB,CAAC,gBAAgB;QAC7C;IACF,GAAG,EAAE;IAEL,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;YAAmC,OAAO;gBAAE,OAAO;YAAM;;;;;;;;;;;AAG9E;AAEe,SAAS;IACtB,qBACE,8OAAC,iNAAQ;QAAC,UAAU;kBAClB,cAAA,8OAAC;;;;;;;;;;AAGP"}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/juliofranco/Desktop/Programacio%CC%81n/BuildManager/frontend/src/components/Navbar.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { Building2, LogOut } from 'lucide-react';\nimport { useEffect, useState } from 'react';\n\nexport default function Navbar() {\n  const router = useRouter();\n  const pathname = usePathname();\n  const [user, setUser] = useState<any>(null);\n\n  useEffect(() => {\n    const userData = localStorage.getItem('user');\n    if (userData) {\n      setUser(JSON.parse(userData));\n    }\n  }, [pathname]);\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    router.push('/');\n  };\n\n  if (pathname === '/') return null;\n\n  // Si no hay usuario, mostrar navbar bÃ¡sico en inmuebles y login\n  if (!user && (pathname.startsWith('/inmuebles') || pathname === '/login')) {\n    return (\n      <header className=\"bg-white/80 backdrop-blur-sm shadow-sm border-b sticky top-0 z-50\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-20 py-4\">\n            <div className=\"flex items-center\">\n              <img\n                src=\"http://localhost:3001/uploads/logo.jpg\"\n                alt=\"Nde Rogara\"\n                className=\"h-16 w-16 object-contain\"\n                onError={(e) => {\n                  e.currentTarget.style.display = 'none';\n                }}\n              />\n              <h1 className=\"ml-4 text-xl font-bold bg-gradient-to-r bg-clip-text text-transparent\" style={{backgroundImage: 'linear-gradient(to right, #38603B, #B99742)', WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent'}}>Nde Rogara</h1>\n            </div>\n            <div className=\"flex gap-3\">\n              <Link href=\"/login\" className=\"text-gray-600 hover:text-gray-900 px-4 py-2\">\n                Iniciar SesiÃ³n\n              </Link>\n              <Link href=\"/login\" className=\"text-white px-4 py-2 rounded-lg\" style={{backgroundColor: '#38603B'}}>\n                Registrarse\n              </Link>\n            </div>\n          </div>\n        </div>\n      </header>\n    );\n  }\n\n  // Si no hay usuario en otras pÃ¡ginas, redirigir a login\n  if (!user) return null;\n\n  return (\n    <header className=\"bg-white shadow-sm border-b sticky top-0 z-40\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between items-center h-20 py-4\">\n          <div className=\"flex items-center gap-8\">\n            <Link href=\"/proyectos\" className=\"flex items-center\">\n              <img\n                src=\"http://localhost:3001/uploads/logo.jpg\"\n                alt=\"Nde Rogara\"\n                className=\"h-16 w-16 object-contain\"\n                onError={(e) => {\n                  e.currentTarget.style.display = 'none';\n                }}\n              />\n              <span className=\"ml-2 text-xl font-bold text-gray-900\">Nde Rogara</span>\n            </Link>\n            <nav className=\"flex gap-4\">\n              {user?.rol === 'PROVEEDOR_MATERIALES' ? (\n                <Link href=\"/proveedor/materiales\" className={`px-3 py-2 rounded ${pathname.startsWith('/proveedor') ? 'bg-purple-50 text-purple-600' : 'text-gray-600 hover:text-gray-900'}`}>\n                  Mis Materiales\n                </Link>\n              ) : (\n                <>\n                  <Link href=\"/proyectos\" className={`px-3 py-2 rounded ${pathname.startsWith('/proyectos') ? 'bg-blue-50 text-blue-600' : 'text-gray-600 hover:text-gray-900'}`}>\n                    Proyectos\n                  </Link>\n                  <Link href=\"/referencia\" className={`px-3 py-2 rounded ${pathname.startsWith('/referencia') ? 'bg-green-50 text-green-600' : 'text-gray-600 hover:text-gray-900'}`}>\n                    Referencia\n                  </Link>\n                  <Link href=\"/materiales\" className={`px-3 py-2 rounded ${pathname.startsWith('/materiales') ? 'bg-blue-50 text-blue-600' : 'text-gray-600 hover:text-gray-900'}`}>\n                    Materiales\n                  </Link>\n                  <Link href=\"/items\" className={`px-3 py-2 rounded ${pathname.startsWith('/items') ? 'bg-blue-50 text-blue-600' : 'text-gray-600 hover:text-gray-900'}`}>\n                    Items\n                  </Link>\n                  <Link href=\"/inmuebles\" className={`px-3 py-2 rounded ${pathname.startsWith('/inmuebles') ? 'bg-yellow-50 text-yellow-600' : 'text-gray-600 hover:text-gray-900'}`}>\n                    Inmuebles\n                  </Link>\n                  {user?.rol === 'ADMIN' && (\n                    <Link href=\"/admin/materiales\" className={`px-3 py-2 rounded ${pathname.startsWith('/admin') ? 'bg-orange-50 text-orange-600' : 'text-gray-600 hover:text-gray-900'}`}>\n                      CatÃ¡logo\n                    </Link>\n                  )}\n                </>\n              )}\n            </nav>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"text-right\">\n              <div className=\"text-sm font-medium text-gray-900\">{user?.name || user?.email}</div>\n              {user?.rol === 'ADMIN' && (\n                <div className=\"text-xs text-orange-600 font-semibold\">â˜… Admin</div>\n              )}\n              {user?.rol === 'PROVEEDOR_MATERIALES' && (\n                <div className=\"text-xs text-purple-600 font-semibold\">ðŸ“¦ Proveedor</div>\n              )}\n              {user?.rol === 'PROVEEDOR_SERVICIOS' && (\n                <div className=\"text-xs text-green-600 font-semibold\">ðŸ”§ Servicios</div>\n              )}\n            </div>\n            <button\n              onClick={handleLogout}\n              className=\"flex items-center gap-2 text-gray-600 hover:text-red-600 px-3 py-2 rounded hover:bg-red-50 transition-colors\"\n            >\n              <LogOut className=\"h-4 w-4\" />\n              Salir\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}